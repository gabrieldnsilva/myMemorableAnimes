# =============================================================================
# myMemorableAnimes - Production Environment Variables Template
# =============================================================================
# IMPORTANT: Copy this file to .env and configure the values before deploying
# NEVER commit the actual .env file to version control!
#
# Usage:
#   cp .env.production.template .env
#   # Edit .env with your production values
#   docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000
APP_PORT=3000

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# SESSION_SECRET: Generate a secure random string (minimum 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or use: openssl rand -hex 32
SESSION_SECRET=CHANGE_ME_TO_A_SECURE_64_CHARACTER_HEX_STRING_GENERATED_BY_OPENSSL_OR_NODE

# Cookie security (set to true when using HTTPS)
SECURE_COOKIES=true

# SameSite cookie policy: Strict, Lax, or None
# Use Strict for maximum security, Lax for better UX with external links
SAME_SITE=Strict

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Option 1: SQLite (default, simpler for small deployments)
DATABASE_URL=./database/database.db

# Option 2: PostgreSQL (recommended for production scaling)
# Uncomment and configure if using PostgreSQL
# DATABASE_URL=postgresql://user:password@postgres:5432/mymemorableanimes
# DB_USER=animes
# DB_PASSWORD=your-secure-database-password-here
# DB_NAME=mymemorableanimes
# DB_PORT=5432

# -----------------------------------------------------------------------------
# External API Configuration
# -----------------------------------------------------------------------------
# Jikan API (MyAnimeList unofficial API)
JIKAN_API_BASE=https://api.jikan.moe/v4

# Rate limiting for Jikan API (requests per minute)
# Jikan recommends max 3 requests per second
JIKAN_RATE_LIMIT=60

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log levels: error, warn, info, debug
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Performance & Scaling
# -----------------------------------------------------------------------------
# Number of worker processes (set to 'auto' for CPU cores count)
# Note: Currently not implemented, for future clustering support
# CLUSTER_WORKERS=auto

# Request timeout in milliseconds
REQUEST_TIMEOUT=30000

# -----------------------------------------------------------------------------
# Optional: Monitoring & Observability
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Enable metrics endpoint for Prometheus (optional)
# ENABLE_METRICS=true

# -----------------------------------------------------------------------------
# Optional: Email Configuration (for future features)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-email-password
# SMTP_FROM=noreply@mymemorableanimes.com

# -----------------------------------------------------------------------------
# Docker-specific Settings
# -----------------------------------------------------------------------------
# Container timezone
TZ=America/Sao_Paulo

# =============================================================================
# SECURITY CHECKLIST BEFORE DEPLOYMENT:
# =============================================================================
# [ ] SESSION_SECRET is a unique, randomly generated 64-character hex string
# [ ] SECURE_COOKIES is set to true (requires HTTPS)
# [ ] Database credentials are strong and unique
# [ ] This .env file is NOT committed to version control
# [ ] File permissions are restrictive (chmod 600 .env)
# [ ] Reverse proxy (nginx/traefik) is configured with SSL/TLS
# [ ] Firewall rules are configured (only expose ports 80/443)
# =============================================================================
