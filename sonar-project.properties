# =============================================================================
# SonarQube Configuration - myMemorableAnimes
# =============================================================================
# Documentation: https://docs.sonarqube.org/latest/analysis/analysis-parameters/
# =============================================================================

# -----------------------------------------------------------------------------
# Project Information
# -----------------------------------------------------------------------------
sonar.projectKey=gabrieldnsilva_myMemorableAnimes
sonar.organization=gabrieldnsilva

# Project name and version displayed in SonarQube
sonar.projectName=myMemorableAnimes
sonar.projectVersion=2.0.0

# Project description
sonar.projectDescription=Catálogo de animes com autenticação e lista personalizada por usuário

# Links
sonar.links.homepage=https://github.com/gabrieldnsilva/myMemorableAnimes
sonar.links.ci=https://github.com/gabrieldnsilva/myMemorableAnimes/actions
sonar.links.scm=https://github.com/gabrieldnsilva/myMemorableAnimes
sonar.links.issue=https://github.com/gabrieldnsilva/myMemorableAnimes/issues

# -----------------------------------------------------------------------------
# Source Code Configuration
# -----------------------------------------------------------------------------
# Source directories (comma-separated)
sonar.sources=src

# Test directories (comma-separated)
sonar.tests=tests

# File encoding
sonar.sourceEncoding=UTF-8

# Language
sonar.language=ts

# -----------------------------------------------------------------------------
# Coverage Configuration
# -----------------------------------------------------------------------------
# Path to Jest/LCOV coverage report
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Test execution report (for test execution metrics)
sonar.testExecutionReportPaths=coverage/test-report.xml

# Coverage exclusions
sonar.coverage.exclusions=\
  **/*.test.ts,\
  **/*.spec.ts,\
  **/tests/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/node_modules/**,\
  **/*.d.ts,\
  src/server.ts,\
  src/types/**,\
  src/scripts/**,\
  jest.config.js,\
  tailwind.config.js,\
  postcss.config.js

# -----------------------------------------------------------------------------
# Exclusions - Files to ignore completely
# -----------------------------------------------------------------------------
sonar.exclusions=\
  **/*.test.ts,\
  **/*.spec.ts,\
  **/tests/**,\
  **/dist/**,\
  **/build/**,\
  **/coverage/**,\
  **/node_modules/**,\
  **/public/**,\
  **/database/**,\
  **/*.d.ts,\
  **/*.json,\
  **/*.md,\
  **/*.css,\
  **/*.html,\
  **/*.ejs,\
  src/views/**,\
  src/scripts/seedAnimes.ts,\
  src/scripts/createTestUser.ts,\
  jest.config.js,\
  tailwind.config.js,\
  postcss.config.js,\
  .eslintrc.json

# Duplications exclusions
sonar.cpd.exclusions=\
  **/*.test.ts,\
  **/*.spec.ts,\
  src/models/**,\
  src/types/**

# -----------------------------------------------------------------------------
# Quality Gate & Rules
# -----------------------------------------------------------------------------
# Use default SonarQube quality gate
# Can be customized in SonarCloud UI

# Minimum coverage threshold (optional - can be set in UI)
# sonar.coverage.minimum=70

# -----------------------------------------------------------------------------
# TypeScript/JavaScript Specific
# -----------------------------------------------------------------------------
# Path to tsconfig.json
sonar.typescript.tsconfigPath=tsconfig.json

# Node version
sonar.nodejs.version=20

# -----------------------------------------------------------------------------
# Analysis Properties
# -----------------------------------------------------------------------------
# Pull request decoration
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=gabrieldnsilva/myMemorableAnimes

# Branch analysis
sonar.branch.name=main

# Working directory for analysis
sonar.working.directory=.scannerwork

# Verbose logging (for debugging)
# sonar.verbose=true

# -----------------------------------------------------------------------------
# Security & Quality
# -----------------------------------------------------------------------------
# Enable security hotspots
sonar.security.enableSecurityHotspots=true

# Enable OWASP Top 10 rules
sonar.qualitygate.wait=true

# -----------------------------------------------------------------------------
# Additional Settings
# -----------------------------------------------------------------------------
# Issue ignore patterns (suppress false positives)
# sonar.issue.ignore.multicriteria=e1
# sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1186
# sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.ts
